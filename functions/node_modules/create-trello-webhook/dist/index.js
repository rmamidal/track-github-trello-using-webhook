"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (key, token, description, callbackUrl, modelId) {
  return (0, _got2.default)("https://api.trello.com/1/tokens/" + token + "/webhooks/?key=" + key, {
    headers: {
      "Content-Type": "application/json",
      "User-Agent": _package2.default.name + "@" + _package2.default.version
    },
    body: JSON.stringify({
      description: description,
      callbackURL: callbackUrl,
      idModel: modelId
    }),
    json: true
  }).then(function (response) {
    return response.body.id;
  });
};

var _got = require("got");

var _got2 = _interopRequireDefault(_got);

var _package = require("../package.json");

var _package2 = _interopRequireDefault(_package);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }